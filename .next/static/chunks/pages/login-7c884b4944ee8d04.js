(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{7328:(e,t,a)=>{e.exports=a(9269)},7984:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return a(9307)}])},9307:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var n=a(7876),s=a(7328),l=a.n(s),r=a(8230),i=a.n(r),d=a(4232),o=a(9099),u=a(9367);function c(){let e=(0,u.useSupabaseClient)(),t=(0,o.useRouter)(),[a,s]=(0,d.useState)(""),[r,c]=(0,d.useState)(""),[x,p]=(0,d.useState)(null),[h,g]=(0,d.useState)(!1);async function m(){g(!0),p(null);let{error:n}=await e.auth.signInWithPassword({email:a.trim(),password:r});g(!1),n?p(n.message):t.replace(t.query.next||"/dashboard")}async function b(){g(!0),p(null);let{error:t}=await e.auth.signInWithOtp({email:a.trim()});g(!1),p(t?t.message:"Check your email for a login link.")}return(0,d.useEffect)(()=>{let a=!0;return(async()=>{let{data:n}=await e.auth.getUser();if(a&&n.user){let e=t.query.next||"/dashboard";t.replace(e)}})(),()=>{a=!1}},[t,e]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l(),{children:(0,n.jsx)("title",{children:"Login — 4MK"})}),(0,n.jsx)("div",{className:"min-h-screen bg-[#373737] py-8 px-3",children:(0,n.jsxs)("div",{className:"mx-auto max-w-2xl rounded-[28px] bg-gradient-to-b from-pink-200 to-pink-300 p-6 md:p-10 shadow-[0_22px_70px_rgba(0,0,0,0.45)] ring-2 ring-[#E3B341]",children:[(0,n.jsx)("h1",{className:"text-3xl font-extrabold text-neutral-900",children:"Login"}),(0,n.jsx)("p",{className:"text-neutral-700 mt-1",children:"Welcome back."}),(0,n.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,n.jsx)("input",{type:"email",className:"w-full rounded-xl bg-white/95 border border-neutral-300 px-4 py-2 text-[15px] outline-none focus:ring-2 focus:ring-emerald-600",placeholder:"Email",value:a,onChange:e=>s(e.target.value)}),(0,n.jsx)("input",{type:"password",className:"w-full rounded-xl bg-white/95 border border-neutral-300 px-4 py-2 text-[15px] outline-none focus:ring-2 focus:ring-emerald-600",placeholder:"Password",value:r,onChange:e=>c(e.target.value)}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("button",{onClick:m,disabled:h,className:"rounded-full bg-emerald-700 text-white px-5 py-2 shadow hover:opacity-90 disabled:opacity-50",children:h?"Logging in…":"Login"}),(0,n.jsx)("button",{onClick:b,disabled:h||!a,className:"rounded-full bg-neutral-900 text-white px-5 py-2 shadow hover:opacity-90 disabled:opacity-50",children:h?"Sending…":"Send Magic Link"})]}),x&&(0,n.jsx)("div",{className:"text-sm text-red-700",children:x}),(0,n.jsx)(i(),{href:"/forgot",className:"text-sm text-blue-700 underline",children:"Forgot password?"})]})]})})]})}}},e=>{e.O(0,[636,593,792],()=>e(e.s=7984)),_N_E=e.O()}]);